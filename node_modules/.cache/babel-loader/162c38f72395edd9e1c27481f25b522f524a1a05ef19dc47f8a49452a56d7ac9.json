{"ast":null,"code":"!function (e, t) {\n  if (\"object\" == typeof exports && \"object\" == typeof module) module.exports = t();else if (\"function\" == typeof define && define.amd) define([], t);else {\n    var n = t();\n    for (var r in n) (\"object\" == typeof exports ? exports : e)[r] = n[r];\n  }\n}(this, function () {\n  return (() => {\n    \"use strict\";\n\n    var e = {\n        870: (e, t, n) => {\n          n.r(t), n.d(t, {\n            createEndpoint: () => o,\n            expose: () => l,\n            proxy: () => v,\n            proxyMarker: () => r,\n            releaseProxy: () => a,\n            transfer: () => y,\n            transferHandlers: () => c,\n            windowEndpoint: () => g,\n            wrap: () => f\n          });\n          const r = Symbol(\"Comlink.proxy\"),\n            o = Symbol(\"Comlink.endpoint\"),\n            a = Symbol(\"Comlink.releaseProxy\"),\n            i = Symbol(\"Comlink.thrown\"),\n            s = e => \"object\" == typeof e && null !== e || \"function\" == typeof e,\n            c = new Map([[\"proxy\", {\n              canHandle: e => s(e) && e[r],\n              serialize(e) {\n                const {\n                  port1: t,\n                  port2: n\n                } = new MessageChannel();\n                return l(e, t), [n, [n]];\n              },\n              deserialize: e => (e.start(), f(e))\n            }], [\"throw\", {\n              canHandle: e => s(e) && i in e,\n              serialize(_ref) {\n                let {\n                  value: e\n                } = _ref;\n                let t;\n                return t = e instanceof Error ? {\n                  isError: !0,\n                  value: {\n                    message: e.message,\n                    name: e.name,\n                    stack: e.stack\n                  }\n                } : {\n                  isError: !1,\n                  value: e\n                }, [t, []];\n              },\n              deserialize(e) {\n                if (e.isError) throw Object.assign(new Error(e.value.message), e.value);\n                throw e.value;\n              }\n            }]]);\n          function l(e) {\n            let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : self;\n            t.addEventListener(\"message\", function n(r) {\n              if (!r || !r.data) return;\n              const {\n                  id: o,\n                  type: a,\n                  path: s\n                } = Object.assign({\n                  path: []\n                }, r.data),\n                c = (r.data.argumentList || []).map(w);\n              let f;\n              try {\n                const t = s.slice(0, -1).reduce((e, t) => e[t], e),\n                  n = s.reduce((e, t) => e[t], e);\n                switch (a) {\n                  case 0:\n                    f = n;\n                    break;\n                  case 1:\n                    t[s.slice(-1)[0]] = w(r.data.value), f = !0;\n                    break;\n                  case 2:\n                    f = n.apply(t, c);\n                    break;\n                  case 3:\n                    f = v(new n(...c));\n                    break;\n                  case 4:\n                    {\n                      const {\n                        port1: t,\n                        port2: n\n                      } = new MessageChannel();\n                      l(e, n), f = y(t, [t]);\n                    }\n                    break;\n                  case 5:\n                    f = void 0;\n                }\n              } catch (e) {\n                f = {\n                  value: e,\n                  [i]: 0\n                };\n              }\n              Promise.resolve(f).catch(e => ({\n                value: e,\n                [i]: 0\n              })).then(e => {\n                const [r, i] = b(e);\n                t.postMessage(Object.assign(Object.assign({}, r), {\n                  id: o\n                }), i), 5 === a && (t.removeEventListener(\"message\", n), u(t));\n              });\n            }), t.start && t.start();\n          }\n          function u(e) {\n            (function (e) {\n              return \"MessagePort\" === e.constructor.name;\n            })(e) && e.close();\n          }\n          function f(e, t) {\n            return d(e, [], t);\n          }\n          function p(e) {\n            if (e) throw new Error(\"Proxy has been released and is not useable\");\n          }\n          function d(e) {\n            let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n            let n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n            let r = !1;\n            const i = new Proxy(n, {\n              get(n, o) {\n                if (p(r), o === a) return () => E(e, {\n                  type: 5,\n                  path: t.map(e => e.toString())\n                }).then(() => {\n                  u(e), r = !0;\n                });\n                if (\"then\" === o) {\n                  if (0 === t.length) return {\n                    then: () => i\n                  };\n                  const n = E(e, {\n                    type: 0,\n                    path: t.map(e => e.toString())\n                  }).then(w);\n                  return n.then.bind(n);\n                }\n                return d(e, [...t, o]);\n              },\n              set(n, o, a) {\n                p(r);\n                const [i, s] = b(a);\n                return E(e, {\n                  type: 1,\n                  path: [...t, o].map(e => e.toString()),\n                  value: i\n                }, s).then(w);\n              },\n              apply(n, a, i) {\n                p(r);\n                const s = t[t.length - 1];\n                if (s === o) return E(e, {\n                  type: 4\n                }).then(w);\n                if (\"bind\" === s) return d(e, t.slice(0, -1));\n                const [c, l] = m(i);\n                return E(e, {\n                  type: 2,\n                  path: t.map(e => e.toString()),\n                  argumentList: c\n                }, l).then(w);\n              },\n              construct(n, o) {\n                p(r);\n                const [a, i] = m(o);\n                return E(e, {\n                  type: 3,\n                  path: t.map(e => e.toString()),\n                  argumentList: a\n                }, i).then(w);\n              }\n            });\n            return i;\n          }\n          function m(e) {\n            const t = e.map(b);\n            return [t.map(e => e[0]), (n = t.map(e => e[1]), Array.prototype.concat.apply([], n))];\n            var n;\n          }\n          const h = new WeakMap();\n          function y(e, t) {\n            return h.set(e, t), e;\n          }\n          function v(e) {\n            return Object.assign(e, {\n              [r]: !0\n            });\n          }\n          function g(e) {\n            let t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : self;\n            let n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"*\";\n            return {\n              postMessage: (t, r) => e.postMessage(t, n, r),\n              addEventListener: t.addEventListener.bind(t),\n              removeEventListener: t.removeEventListener.bind(t)\n            };\n          }\n          function b(e) {\n            for (const [t, n] of c) if (n.canHandle(e)) {\n              const [r, o] = n.serialize(e);\n              return [{\n                type: 3,\n                name: t,\n                value: r\n              }, o];\n            }\n            return [{\n              type: 0,\n              value: e\n            }, h.get(e) || []];\n          }\n          function w(e) {\n            switch (e.type) {\n              case 3:\n                return c.get(e.name).deserialize(e.value);\n              case 0:\n                return e.value;\n            }\n          }\n          function E(e, t, n) {\n            return new Promise(r => {\n              const o = new Array(4).fill(0).map(() => Math.floor(Math.random() * Number.MAX_SAFE_INTEGER).toString(16)).join(\"-\");\n              e.addEventListener(\"message\", function t(n) {\n                n.data && n.data.id && n.data.id === o && (e.removeEventListener(\"message\", t), r(n.data));\n              }), e.start && e.start(), e.postMessage(Object.assign({\n                id: o\n              }, t), n);\n            });\n          }\n        },\n        162: function (e, t, n) {\n          var r = this && this.__createBinding || (Object.create ? function (e, t, n, r) {\n              void 0 === r && (r = n), Object.defineProperty(e, r, {\n                enumerable: !0,\n                get: function () {\n                  return t[n];\n                }\n              });\n            } : function (e, t, n, r) {\n              void 0 === r && (r = n), e[r] = t[n];\n            }),\n            o = this && this.__setModuleDefault || (Object.create ? function (e, t) {\n              Object.defineProperty(e, \"default\", {\n                enumerable: !0,\n                value: t\n              });\n            } : function (e, t) {\n              e.default = t;\n            }),\n            a = this && this.__importStar || function (e) {\n              if (e && e.__esModule) return e;\n              var t = {};\n              if (null != e) for (var n in e) \"default\" !== n && Object.prototype.hasOwnProperty.call(e, n) && r(t, e, n);\n              return o(t, e), t;\n            };\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), t.createDbWorker = void 0;\n          const i = a(n(870));\n          async function s(e) {\n            if (e.data && \"eval\" === e.data.action) {\n              const t = new Int32Array(e.data.notify, 0, 2),\n                n = new Uint8Array(e.data.notify, 8);\n              let r;\n              try {\n                r = {\n                  ok: await u(e.data.request)\n                };\n              } catch (t) {\n                console.error(\"worker request error\", e.data.request, t), r = {\n                  err: String(t)\n                };\n              }\n              const o = new TextEncoder().encode(JSON.stringify(r));\n              n.set(o, 0), t[1] = o.length, Atomics.notify(t, 0);\n            }\n          }\n          function c(e) {\n            if (\"BODY\" === e.tagName) return \"body\";\n            const t = [];\n            for (; e.parentElement && \"BODY\" !== e.tagName;) {\n              if (e.id) {\n                t.unshift(\"#\" + e.id);\n                break;\n              }\n              {\n                let n = 1,\n                  r = e;\n                for (; r.previousElementSibling;) r = r.previousElementSibling, n++;\n                t.unshift(e.tagName.toLowerCase() + \":nth-child(\" + n + \")\");\n              }\n              e = e.parentElement;\n            }\n            return t.join(\" > \");\n          }\n          function l(e) {\n            return Object.keys(e);\n          }\n          async function u(e) {\n            if (console.log(\"dom vtable request\", e), \"select\" === e.type) return [...document.querySelectorAll(e.selector)].map(t => {\n              const n = {};\n              for (const r of e.columns) \"selector\" === r ? n.selector = c(t) : \"parent\" === r ? t.parentElement && (n.parent = t.parentElement ? c(t.parentElement) : null) : \"idx\" === r || (n[r] = t[r]);\n              return n;\n            });\n            if (\"insert\" === e.type) {\n              if (!e.value.parent) throw Error('\"parent\" column must be set when inserting');\n              const t = document.querySelectorAll(e.value.parent);\n              if (0 === t.length) throw Error(\"Parent element \".concat(e.value.parent, \" could not be found\"));\n              if (t.length > 1) throw Error(\"Parent element \".concat(e.value.parent, \" ambiguous (\").concat(t.length, \" results)\"));\n              const n = t[0];\n              if (!e.value.tagName) throw Error(\"tagName must be set for inserting\");\n              const r = document.createElement(e.value.tagName);\n              for (const t of l(e.value)) if (null !== e.value[t]) {\n                if (\"tagName\" === t || \"parent\" === t) continue;\n                if (\"idx\" === t || \"selector\" === t) throw Error(\"\".concat(t, \" can't be set\"));\n                r[t] = e.value[t];\n              }\n              return n.appendChild(r), null;\n            }\n            if (\"update\" === e.type) {\n              const t = document.querySelector(e.value.selector);\n              if (!t) throw Error(\"Element \".concat(e.value.selector, \" not found!\"));\n              const n = [];\n              for (const r of l(e.value)) {\n                const o = e.value[r];\n                if (\"parent\" !== r) {\n                  if (\"idx\" !== r && \"selector\" !== r && o !== t[r]) {\n                    if (console.log(\"SETTING \", r, t[r], \"->\", o), \"tagName\" === r) throw Error(\"can't change tagName\");\n                    n.push(r);\n                  }\n                } else if (o !== c(t.parentElement)) {\n                  const e = document.querySelectorAll(o);\n                  if (1 !== e.length) throw Error(\"Invalid target parent: found \".concat(e.length, \" matches\"));\n                  e[0].appendChild(t);\n                }\n              }\n              for (const r of n) t[r] = e.value[r];\n              return null;\n            }\n            throw Error(\"unknown request \".concat(e.type));\n          }\n          i.transferHandlers.set(\"WORKERSQLPROXIES\", {\n            canHandle: e => !1,\n            serialize(e) {\n              throw Error(\"no\");\n            },\n            deserialize: e => (e.start(), i.wrap(e))\n          }), t.createDbWorker = async function (e, t, n) {\n            let r = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1 / 0;\n            const o = new Worker(t),\n              a = i.wrap(o),\n              c = await a.SplitFileHttpDatabase(n, e, void 0, r);\n            return o.addEventListener(\"message\", s), {\n              db: c,\n              worker: a,\n              configs: e\n            };\n          };\n        },\n        432: function (e, t, n) {\n          var r = this && this.__createBinding || (Object.create ? function (e, t, n, r) {\n              void 0 === r && (r = n), Object.defineProperty(e, r, {\n                enumerable: !0,\n                get: function () {\n                  return t[n];\n                }\n              });\n            } : function (e, t, n, r) {\n              void 0 === r && (r = n), e[r] = t[n];\n            }),\n            o = this && this.__exportStar || function (e, t) {\n              for (var n in e) \"default\" === n || Object.prototype.hasOwnProperty.call(t, n) || r(t, e, n);\n            };\n          Object.defineProperty(t, \"__esModule\", {\n            value: !0\n          }), o(n(162), t);\n        }\n      },\n      t = {};\n    function n(r) {\n      var o = t[r];\n      if (void 0 !== o) return o.exports;\n      var a = t[r] = {\n        exports: {}\n      };\n      return e[r].call(a.exports, a, a.exports, n), a.exports;\n    }\n    return n.d = (e, t) => {\n      for (var r in t) n.o(t, r) && !n.o(e, r) && Object.defineProperty(e, r, {\n        enumerable: !0,\n        get: t[r]\n      });\n    }, n.o = (e, t) => Object.prototype.hasOwnProperty.call(e, t), n.r = e => {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, n(432);\n  })();\n});","map":{"version":3,"names":["e","t","exports","module","define","amd","n","r","Symbol","o","a","i","s","c","Map","canHandle","serialize","port1","port2","MessageChannel","l","deserialize","start","f","_ref","value","Error","isError","message","name","stack","Object","assign","arguments","length","undefined","self","addEventListener","data","id","type","path","argumentList","map","w","slice","reduce","apply","v","y","Promise","resolve","catch","then","b","postMessage","removeEventListener","u","constructor","close","d","p","Proxy","get","E","toString","bind","set","m","construct","Array","prototype","concat","h","WeakMap","g","fill","Math","floor","random","Number","MAX_SAFE_INTEGER","join","__createBinding","create","defineProperty","enumerable","__setModuleDefault","default","__importStar","__esModule","hasOwnProperty","call","createDbWorker","action","Int32Array","notify","Uint8Array","ok","request","console","error","err","String","TextEncoder","encode","JSON","stringify","Atomics","tagName","parentElement","unshift","previousElementSibling","toLowerCase","keys","log","document","querySelectorAll","selector","columns","parent","createElement","appendChild","querySelector","push","transferHandlers","wrap","Worker","SplitFileHttpDatabase","db","worker","configs","__exportStar","toStringTag"],"sources":["webpack://sql.js-httpvfs/webpack/universalModuleDefinition","webpack://sql.js-httpvfs/node_modules/comlink/dist/esm/comlink.mjs","webpack://sql.js-httpvfs/src/db.ts","webpack://sql.js-httpvfs/src/index.ts","webpack://sql.js-httpvfs/webpack/bootstrap","webpack://sql.js-httpvfs/webpack/runtime/define property getters","webpack://sql.js-httpvfs/webpack/runtime/hasOwnProperty shorthand","webpack://sql.js-httpvfs/webpack/runtime/make namespace object","webpack://sql.js-httpvfs/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn ","/**\r\n * Copyright 2019 Google Inc. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *     http://www.apache.org/licenses/LICENSE-2.0\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nconst proxyMarker = Symbol(\"Comlink.proxy\");\r\nconst createEndpoint = Symbol(\"Comlink.endpoint\");\r\nconst releaseProxy = Symbol(\"Comlink.releaseProxy\");\r\nconst throwMarker = Symbol(\"Comlink.thrown\");\r\nconst isObject = (val) => (typeof val === \"object\" && val !== null) || typeof val === \"function\";\r\n/**\r\n * Internal transfer handle to handle objects marked to proxy.\r\n */\r\nconst proxyTransferHandler = {\r\n    canHandle: (val) => isObject(val) && val[proxyMarker],\r\n    serialize(obj) {\r\n        const { port1, port2 } = new MessageChannel();\r\n        expose(obj, port1);\r\n        return [port2, [port2]];\r\n    },\r\n    deserialize(port) {\r\n        port.start();\r\n        return wrap(port);\r\n    },\r\n};\r\n/**\r\n * Internal transfer handler to handle thrown exceptions.\r\n */\r\nconst throwTransferHandler = {\r\n    canHandle: (value) => isObject(value) && throwMarker in value,\r\n    serialize({ value }) {\r\n        let serialized;\r\n        if (value instanceof Error) {\r\n            serialized = {\r\n                isError: true,\r\n                value: {\r\n                    message: value.message,\r\n                    name: value.name,\r\n                    stack: value.stack,\r\n                },\r\n            };\r\n        }\r\n        else {\r\n            serialized = { isError: false, value };\r\n        }\r\n        return [serialized, []];\r\n    },\r\n    deserialize(serialized) {\r\n        if (serialized.isError) {\r\n            throw Object.assign(new Error(serialized.value.message), serialized.value);\r\n        }\r\n        throw serialized.value;\r\n    },\r\n};\r\n/**\r\n * Allows customizing the serialization of certain values.\r\n */\r\nconst transferHandlers = new Map([\r\n    [\"proxy\", proxyTransferHandler],\r\n    [\"throw\", throwTransferHandler],\r\n]);\r\nfunction expose(obj, ep = self) {\r\n    ep.addEventListener(\"message\", function callback(ev) {\r\n        if (!ev || !ev.data) {\r\n            return;\r\n        }\r\n        const { id, type, path } = Object.assign({ path: [] }, ev.data);\r\n        const argumentList = (ev.data.argumentList || []).map(fromWireValue);\r\n        let returnValue;\r\n        try {\r\n            const parent = path.slice(0, -1).reduce((obj, prop) => obj[prop], obj);\r\n            const rawValue = path.reduce((obj, prop) => obj[prop], obj);\r\n            switch (type) {\r\n                case 0 /* GET */:\r\n                    {\r\n                        returnValue = rawValue;\r\n                    }\r\n                    break;\r\n                case 1 /* SET */:\r\n                    {\r\n                        parent[path.slice(-1)[0]] = fromWireValue(ev.data.value);\r\n                        returnValue = true;\r\n                    }\r\n                    break;\r\n                case 2 /* APPLY */:\r\n                    {\r\n                        returnValue = rawValue.apply(parent, argumentList);\r\n                    }\r\n                    break;\r\n                case 3 /* CONSTRUCT */:\r\n                    {\r\n                        const value = new rawValue(...argumentList);\r\n                        returnValue = proxy(value);\r\n                    }\r\n                    break;\r\n                case 4 /* ENDPOINT */:\r\n                    {\r\n                        const { port1, port2 } = new MessageChannel();\r\n                        expose(obj, port2);\r\n                        returnValue = transfer(port1, [port1]);\r\n                    }\r\n                    break;\r\n                case 5 /* RELEASE */:\r\n                    {\r\n                        returnValue = undefined;\r\n                    }\r\n                    break;\r\n            }\r\n        }\r\n        catch (value) {\r\n            returnValue = { value, [throwMarker]: 0 };\r\n        }\r\n        Promise.resolve(returnValue)\r\n            .catch((value) => {\r\n            return { value, [throwMarker]: 0 };\r\n        })\r\n            .then((returnValue) => {\r\n            const [wireValue, transferables] = toWireValue(returnValue);\r\n            ep.postMessage(Object.assign(Object.assign({}, wireValue), { id }), transferables);\r\n            if (type === 5 /* RELEASE */) {\r\n                // detach and deactive after sending release response above.\r\n                ep.removeEventListener(\"message\", callback);\r\n                closeEndPoint(ep);\r\n            }\r\n        });\r\n    });\r\n    if (ep.start) {\r\n        ep.start();\r\n    }\r\n}\r\nfunction isMessagePort(endpoint) {\r\n    return endpoint.constructor.name === \"MessagePort\";\r\n}\r\nfunction closeEndPoint(endpoint) {\r\n    if (isMessagePort(endpoint))\r\n        endpoint.close();\r\n}\r\nfunction wrap(ep, target) {\r\n    return createProxy(ep, [], target);\r\n}\r\nfunction throwIfProxyReleased(isReleased) {\r\n    if (isReleased) {\r\n        throw new Error(\"Proxy has been released and is not useable\");\r\n    }\r\n}\r\nfunction createProxy(ep, path = [], target = function () { }) {\r\n    let isProxyReleased = false;\r\n    const proxy = new Proxy(target, {\r\n        get(_target, prop) {\r\n            throwIfProxyReleased(isProxyReleased);\r\n            if (prop === releaseProxy) {\r\n                return () => {\r\n                    return requestResponseMessage(ep, {\r\n                        type: 5 /* RELEASE */,\r\n                        path: path.map((p) => p.toString()),\r\n                    }).then(() => {\r\n                        closeEndPoint(ep);\r\n                        isProxyReleased = true;\r\n                    });\r\n                };\r\n            }\r\n            if (prop === \"then\") {\r\n                if (path.length === 0) {\r\n                    return { then: () => proxy };\r\n                }\r\n                const r = requestResponseMessage(ep, {\r\n                    type: 0 /* GET */,\r\n                    path: path.map((p) => p.toString()),\r\n                }).then(fromWireValue);\r\n                return r.then.bind(r);\r\n            }\r\n            return createProxy(ep, [...path, prop]);\r\n        },\r\n        set(_target, prop, rawValue) {\r\n            throwIfProxyReleased(isProxyReleased);\r\n            // FIXME: ES6 Proxy Handler `set` methods are supposed to return a\r\n            // boolean. To show good will, we return true asynchronously ¯\\_(ツ)_/¯\r\n            const [value, transferables] = toWireValue(rawValue);\r\n            return requestResponseMessage(ep, {\r\n                type: 1 /* SET */,\r\n                path: [...path, prop].map((p) => p.toString()),\r\n                value,\r\n            }, transferables).then(fromWireValue);\r\n        },\r\n        apply(_target, _thisArg, rawArgumentList) {\r\n            throwIfProxyReleased(isProxyReleased);\r\n            const last = path[path.length - 1];\r\n            if (last === createEndpoint) {\r\n                return requestResponseMessage(ep, {\r\n                    type: 4 /* ENDPOINT */,\r\n                }).then(fromWireValue);\r\n            }\r\n            // We just pretend that `bind()` didn’t happen.\r\n            if (last === \"bind\") {\r\n                return createProxy(ep, path.slice(0, -1));\r\n            }\r\n            const [argumentList, transferables] = processArguments(rawArgumentList);\r\n            return requestResponseMessage(ep, {\r\n                type: 2 /* APPLY */,\r\n                path: path.map((p) => p.toString()),\r\n                argumentList,\r\n            }, transferables).then(fromWireValue);\r\n        },\r\n        construct(_target, rawArgumentList) {\r\n            throwIfProxyReleased(isProxyReleased);\r\n            const [argumentList, transferables] = processArguments(rawArgumentList);\r\n            return requestResponseMessage(ep, {\r\n                type: 3 /* CONSTRUCT */,\r\n                path: path.map((p) => p.toString()),\r\n                argumentList,\r\n            }, transferables).then(fromWireValue);\r\n        },\r\n    });\r\n    return proxy;\r\n}\r\nfunction myFlat(arr) {\r\n    return Array.prototype.concat.apply([], arr);\r\n}\r\nfunction processArguments(argumentList) {\r\n    const processed = argumentList.map(toWireValue);\r\n    return [processed.map((v) => v[0]), myFlat(processed.map((v) => v[1]))];\r\n}\r\nconst transferCache = new WeakMap();\r\nfunction transfer(obj, transfers) {\r\n    transferCache.set(obj, transfers);\r\n    return obj;\r\n}\r\nfunction proxy(obj) {\r\n    return Object.assign(obj, { [proxyMarker]: true });\r\n}\r\nfunction windowEndpoint(w, context = self, targetOrigin = \"*\") {\r\n    return {\r\n        postMessage: (msg, transferables) => w.postMessage(msg, targetOrigin, transferables),\r\n        addEventListener: context.addEventListener.bind(context),\r\n        removeEventListener: context.removeEventListener.bind(context),\r\n    };\r\n}\r\nfunction toWireValue(value) {\r\n    for (const [name, handler] of transferHandlers) {\r\n        if (handler.canHandle(value)) {\r\n            const [serializedValue, transferables] = handler.serialize(value);\r\n            return [\r\n                {\r\n                    type: 3 /* HANDLER */,\r\n                    name,\r\n                    value: serializedValue,\r\n                },\r\n                transferables,\r\n            ];\r\n        }\r\n    }\r\n    return [\r\n        {\r\n            type: 0 /* RAW */,\r\n            value,\r\n        },\r\n        transferCache.get(value) || [],\r\n    ];\r\n}\r\nfunction fromWireValue(value) {\r\n    switch (value.type) {\r\n        case 3 /* HANDLER */:\r\n            return transferHandlers.get(value.name).deserialize(value.value);\r\n        case 0 /* RAW */:\r\n            return value.value;\r\n    }\r\n}\r\nfunction requestResponseMessage(ep, msg, transfers) {\r\n    return new Promise((resolve) => {\r\n        const id = generateUUID();\r\n        ep.addEventListener(\"message\", function l(ev) {\r\n            if (!ev.data || !ev.data.id || ev.data.id !== id) {\r\n                return;\r\n            }\r\n            ep.removeEventListener(\"message\", l);\r\n            resolve(ev.data);\r\n        });\r\n        if (ep.start) {\r\n            ep.start();\r\n        }\r\n        ep.postMessage(Object.assign({ id }, msg), transfers);\r\n    });\r\n}\r\nfunction generateUUID() {\r\n    return new Array(4)\r\n        .fill(0)\r\n        .map(() => Math.floor(Math.random() * Number.MAX_SAFE_INTEGER).toString(16))\r\n        .join(\"-\");\r\n}\n\nexport { createEndpoint, expose, proxy, proxyMarker, releaseProxy, transfer, transferHandlers, windowEndpoint, wrap };\n//# sourceMappingURL=comlink.mjs.map\n","\"use strict\";\n/// <reference lib=\"dom\" />\n/// <reference lib=\"dom.iterable\" />\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createDbWorker = void 0;\n// TODO: using comlink for all this is a pretty ugly hack\nconst Comlink = __importStar(require(\"comlink\"));\nComlink.transferHandlers.set(\"WORKERSQLPROXIES\", {\n    canHandle: (obj) => false,\n    serialize(obj) {\n        throw Error(\"no\");\n    },\n    deserialize: (port) => {\n        port.start();\n        return Comlink.wrap(port);\n    },\n});\nasync function createDbWorker(configs, workerUrl, wasmUrl, maxBytesToRead = Infinity) {\n    const worker = new Worker(workerUrl);\n    const sqlite = Comlink.wrap(worker);\n    const db = (await sqlite.SplitFileHttpDatabase(wasmUrl, configs, undefined, maxBytesToRead));\n    worker.addEventListener(\"message\", handleAsyncRequestFromWorkerThread);\n    return { db, worker: sqlite, configs };\n}\nexports.createDbWorker = createDbWorker;\nasync function handleAsyncRequestFromWorkerThread(ev) {\n    if (ev.data && ev.data.action === \"eval\") {\n        const metaArray = new Int32Array(ev.data.notify, 0, 2);\n        const dataArray = new Uint8Array(ev.data.notify, 2 * 4);\n        let response;\n        try {\n            response = { ok: await handleDomVtableRequest(ev.data.request) };\n        }\n        catch (e) {\n            console.error(\"worker request error\", ev.data.request, e);\n            response = { err: String(e) };\n        }\n        const text = new TextEncoder().encode(JSON.stringify(response));\n        dataArray.set(text, 0); // need to copy here because:\n        // sadly TextEncoder.encodeInto: Argument 2 can't be a SharedArrayBuffer or an ArrayBufferView backed by a SharedArrayBuffer [AllowShared]\n        // otherwise this would be better:\n        /*const encodeRes = new TextEncoder().encodeInto(response, data);\n        if (encodeRes.read !== response.length) {\n          console.log(encodeRes, response.length)\n          throw Error(`not enough space for response: ${response.length} > ${data.byteLength}`);\n        }*/\n        metaArray[1] = text.length;\n        Atomics.notify(metaArray, 0);\n    }\n}\nfunction getUniqueSelector(elm) {\n    if (elm.tagName === \"BODY\")\n        return \"body\";\n    const names = [];\n    while (elm.parentElement && elm.tagName !== \"BODY\") {\n        if (elm.id) {\n            // assume id is unique (which it isn't)\n            names.unshift(\"#\" + elm.id);\n            break;\n        }\n        else {\n            let c = 1;\n            let e = elm;\n            while (e.previousElementSibling) {\n                e = e.previousElementSibling;\n                c++;\n            }\n            names.unshift(elm.tagName.toLowerCase() + \":nth-child(\" + c + \")\");\n        }\n        elm = elm.parentElement;\n    }\n    return names.join(\" > \");\n}\nfunction keys(o) {\n    return Object.keys(o);\n}\nasync function handleDomVtableRequest(req) {\n    console.log(\"dom vtable request\", req);\n    if (req.type === \"select\") {\n        return [...document.querySelectorAll(req.selector)].map((e) => {\n            const out = {};\n            for (const column of req.columns) {\n                if (column === \"selector\") {\n                    out.selector = getUniqueSelector(e);\n                }\n                else if (column === \"parent\") {\n                    if (e.parentElement) {\n                        out.parent = e.parentElement\n                            ? getUniqueSelector(e.parentElement)\n                            : null;\n                    }\n                }\n                else if (column === \"idx\") {\n                    // ignore\n                }\n                else {\n                    out[column] = e[column];\n                }\n            }\n            return out;\n        });\n    }\n    else if (req.type === \"insert\") {\n        if (!req.value.parent)\n            throw Error(`\"parent\" column must be set when inserting`);\n        const target = document.querySelectorAll(req.value.parent);\n        if (target.length === 0)\n            throw Error(`Parent element ${req.value.parent} could not be found`);\n        if (target.length > 1)\n            throw Error(`Parent element ${req.value.parent} ambiguous (${target.length} results)`);\n        const parent = target[0];\n        if (!req.value.tagName)\n            throw Error(`tagName must be set for inserting`);\n        const ele = document.createElement(req.value.tagName);\n        const cantSet = [\"idx\"];\n        for (const i of keys(req.value)) {\n            if (req.value[i] !== null) {\n                if (i === \"tagName\" || i === \"parent\")\n                    continue;\n                if (i === \"idx\" || i === \"selector\")\n                    throw Error(`${i} can't be set`);\n                ele[i] = req.value[i];\n            }\n        }\n        parent.appendChild(ele);\n        return null;\n    }\n    else if (req.type === \"update\") {\n        const targetElement = document.querySelector(req.value.selector);\n        if (!targetElement)\n            throw Error(`Element ${req.value.selector} not found!`);\n        const toSet = [];\n        for (const k of keys(req.value)) {\n            const v = req.value[k];\n            if (k === \"parent\") {\n                if (v !== getUniqueSelector(targetElement.parentElement)) {\n                    const targetParent = document.querySelectorAll(v);\n                    if (targetParent.length !== 1)\n                        throw Error(`Invalid target parent: found ${targetParent.length} matches`);\n                    targetParent[0].appendChild(targetElement);\n                }\n                continue;\n            }\n            if (k === \"idx\" || k === \"selector\")\n                continue;\n            if (v !== targetElement[k]) {\n                console.log(\"SETTING \", k, targetElement[k], \"->\", v);\n                if (k === \"tagName\")\n                    throw Error(\"can't change tagName\");\n                toSet.push(k); // defer setting to prevent setting multiple interdependent values (e.g. textContent and innerHTML)\n            }\n        }\n        for (const k of toSet) {\n            targetElement[k] = req.value[k];\n        }\n        return null;\n    }\n    else {\n        throw Error(`unknown request ${req.type}`);\n    }\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./db\"), exports);\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(432);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}